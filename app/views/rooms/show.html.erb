<div class="container">
  <%= link_to "参加者追加",new_room_path(@room.id) %>
  <%= form_for @message do |f| %>
<%= f.text_field :message,class: "form-control", id: "chat_field" %>
<%= f.hidden_field :room_id,value: @room.id %>
<%= f.submit "投稿",class: "btn btn-primary" %>
<% end %>
<div class="d-flex flex-column mb-3">
  <div class="row justify-content-between position-relative">
  <% if @room.user_id == current_user.id %>
<% @entries.each do |e| %>
<div class="col-4">
<%= image_tag e.user.get_profile_image(100,100) %>
<%= link_to e.user.name,user_path(e.user_id) %>
</div>
<% end %>
<% else %>
  <% @entries.reverse_each do |e| %>
<div class="col-4">
<%= image_tag e.user.get_profile_image(100,100) %>
<%= link_to e.user.name,user_path(e.user_id) %>
</div>
<% end %>
<% end %>
</div>
<% if @messages.present? %>
<% @messages.reverse_each do |m| %>
<% if m.user_id == current_user.id %>
<div class="col-4">
<%= m.user.name %>
<div class="p-2 border rounded border-primary">
<%= m.message %>
</div>
<%= m.created_at.strftime("%Y/%m/%d %H:%M:%S") %>
</div>
<% else %>
<div class="col-4 offset-8">
  <%= m.user.name %>
  <div class="p-2 border rounded  border-primary">
<%= m.message %>
</div>
<%= m.created_at.strftime("%Y/%m/%d %H:%M:%S") %>
</div>
<% end %>
<% end %>
<% end %>
</div>
</div>